<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Ngaytot.me">
    <meta name="copyright" content="Copyright ¬© 2026 Ngaytot.me">
    <title>Ngaytot.me - Xem Ng√†y T·ªët X·∫•u, L·ªãch V·∫°n Ni√™n Ng·ªçc H·∫°p Th√¥ng Th∆∞</title>
    
    <meta name="description" content="Ngaytot.me - Tra c·ª©u ng√†y t·ªët x·∫•u, gi·ªù ho√†ng ƒë·∫°o chu·∫©n Ng·ªçc H·∫°p Th√¥ng Th∆∞. Xem l·ªãch v·∫°n ni√™n, h∆∞·ªõng xu·∫•t h√†nh v√† ƒë√°nh gi√° ng√†y ƒë·∫°i c√°t cho khai tr∆∞∆°ng, c∆∞·ªõi h·ªèi.">
      <meta property="og:title" content="Ngaytot.me - Xem Ng√†y T·ªët Chu·∫©n Phong Th·ªßy">
<meta property="og:description" content="Tra c·ª©u l·ªãch v·∫°n ni√™n, ng√†y t·ªët x·∫•u nhanh ch√≥ng v√† ch√≠nh x√°c.">
<meta property="og:url" content="https://ngaytot.me">
<meta property="og:type" content="website">  ```
<meta property="og:title" content="Ngaytot.me - Xem Ng√†y T·ªët Chu·∫©n Phong Th·ªßy">
<meta property="og:description" content="Tra c·ª©u l·ªãch v·∫°n ni√™n, ng√†y t·ªët x·∫•u nhanh ch√≥ng v√† ch√≠nh x√°c.">
<meta property="og:url" content="https://ngaytot.me">
<meta property="og:type" content="website">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ng·ªçc H·∫°p Th√¥ng Th∆∞ - Giao Di·ªán Vi·ªát Standard</title>
    <style>
        :root { --primary: #850000; --gold: #b8860b; --bg: #fdfaf6; --text: #333; --star-on: #ff9800; --star-off: #e0e0e0; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f4f1ea; margin: 0; padding: 10px; color: var(--text); line-height: 1.4; }
        .app-container { max-width: 1000px; margin: auto; background: var(--bg); border: 2px solid var(--gold); border-radius: 16px; padding: 20px; box-shadow: 0 15px 50px rgba(0,0,0,0.15); }
        .header { text-align: center; border-bottom: 3px double var(--gold); margin-bottom: 20px; padding-bottom: 10px; }
        .header h1 { color: var(--primary); text-transform: uppercase; margin: 0; font-size: 28px; letter-spacing: 1px; }
        
        /* Khu v·ª±c nh·∫≠p li·ªáu */
        .control-area { display: flex; justify-content: center; align-items: center; gap: 20px; margin-bottom: 5px; background: #fff3e0; padding: 6px; border-radius: 6px; border: 1px solid #ffe0b2; }
        .date-input-wrapper { display: flex; flex-direction: column; align-items: center; gap: 5px; }
        input[type="date"] { padding: 10px; border: 2px solid var(--gold); border-radius: 8px; font-size: 16px; outline: none; text-align: center; cursor: pointer; background: white; }
        .nav-btn { background: var(--primary); color: white; border: none; padding: 10px 16px; cursor: pointer; font-weight: bold; border-radius: 8px; font-size: 18px; transition: 0.3s; }
        .action-btn { background: var(--gold); color: white; border: none; padding: 10px 20px; cursor: pointer; font-weight: bold; border-radius: 8px; text-transform: uppercase; font-size: 13px; }

        /* L·ªãch √Çm D∆∞∆°ng Card */
        .info-grid { display: grid; grid-template-columns: 1fr 1.2fr; gap: 10px; margin-bottom: 3px; }
        .calendar-card { background: white; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.08); overflow: hidden; border: 1px solid #eee; display: flex; flex-direction: column; align-items: center; padding-bottom: 15px; }
        .cal-header { background: var(--primary); color: white; width: 100%; text-align: center; padding: 8px 0; font-weight: bold; font-size: 18px; text-transform: uppercase; }
        .cal-solar-day { font-size: 40px; font-weight: 500; color: var(--primary); line-height: 1; margin: 8px 0 5px 0; }
        .cal-solar-month-year { font-size: 18px; color: #555; margin-bottom: 15px; font-weight: 600; letter-spacing: 1px; }
        
        
        .lunar-label { font-size: 12px; color: #b8860b; text-transform: uppercase; font-weight: bold; }
        .lunar-value { font-size: 24px; font-weight: bold; color: #850000; }

        /* B√°t T·ª± Card */
        .battu-card { background: white; border-radius: 15px; padding: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.08); border: 1px solid #eee; }
        .battu-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-top: 5px; }
        .battu-item { background: #fdfaf6; border: 1px solid #f0e6d2; border-radius: 10px; padding: 10px; text-align: center; }
        .battu-label { font-size: 11px; color: #888; text-transform: uppercase; margin-bottom: 5px; }
        .battu-value { font-size: 17px; font-weight: bold; color: var(--primary); }
        .nap-am { font-size: 10px; color: #666; margin-top: 2px; font-style: italic; }
        
        .tag-row { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px; justify-content: center; }
        .info-tag { padding: 6px 12px; border-radius: 20px; font-size: 13px; font-weight: 600; border: 1px solid #ddd; }
        .tag-truc { background: #e3f2fd; color: #0d47a1; }
        .tag-tiet { background: #f1f8e9; color: #33691e; }
        .tag-season { background: #fff3e0; color: #e65100; }

        .day-status { font-weight: bold; font-size: 18px; padding: 10px; border-radius: 10px; text-align: center; width: 90%; margin: 0 auto; }
        .hoang-dao-text { color: #e65100; background: #fff3e0; border: 1px solid #ffe0b2; }
        .hac-dao-text { color: #424242; background: #eeeeee; border: 1px solid #bdbdbd; }

        .zodiac-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; margin-top: 2px; }
        .zodiac-item { background: white; border: 1px solid #ffe0b2; padding: 4px; border-radius: 6px; font-size: 11px; text-align: center; }

        .rating-section { background: white; padding: 10px; border-radius: 15px; border: 1px solid #eee; margin-top: 10px; }
        .general-rating { text-align: center; padding: 15px; background: #fffde7; border-radius: 12px; margin-bottom: 15px; border: 1px solid #fff59d; }
        .rating-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 5px; }
       
        .stars { color: var(--star-on); font-size: 15px; letter-spacing: 1px; }
        .star-off { color: var(--star-off); }

        .sao-list { font-size: 12px; display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 5px; }
        .sao-box { background: #fff; padding: 10px; border-radius: 10px; border: 1px solid #eee; }

        @media (max-width: 768px) { .info-grid { grid-template-columns: 1fr; } }
    </style>
<style>
body{
-webkit-touch-callout: none;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
-o-user-select: none;
user-select: none;
}
</style><script type=‚Äùtext/JavaScript‚Äù>
function killCopy(e){
return false
}
function reEnable(){
return true
}
document.onselectstart=new Function (‚Äúreturn false‚Äù)
if (window.sidebar){
document.onmousedown=killCopy
document.onclick=reEnable
}
</script>
<script language="JavaScript">
    window.onload = function() {
    // L·∫•y th·ªùi gian th·ª±c t·ª´ m√°y t√≠nh/ƒëi·ªán tho·∫°i kh√°ch h√†ng
    const today = new Date();
    const d = today.getDate();
    const m = today.getMonth() + 1;
    const y = today.getFullYear();

    // C·∫≠p nh·∫≠t gi√° tr·ªã v√†o c√°c √¥ nh·∫≠p li·ªáu tr√™n giao di·ªán
    // (H√£y ƒë·∫£m b·∫£o ID 'input-ngay', 'input-thang'... kh·ªõp v·ªõi ID c·ªßa b·∫°n)
    if(document.getElementById('input-ngay')) document.getElementById('input-ngay').value = d;
    if(document.getElementById('input-thang')) document.getElementById('input-thang').value = m;
    if(document.getElementById('input-nam')) document.getElementById('input-nam').value = y;

    // Ch·∫°y h√†m t√≠nh to√°n ch√≠nh ƒë·ªÉ hi·ªán k·∫øt qu·∫£ ng√†y h√¥m nay ngay l·∫≠p t·ª©c
    main(); 
};

</script>

</head>
<body>

<div class="app-container">
    <div class="header"><h1>XEM NG√ÄY T·ªêT X·∫§U - ƒê·ªîI NG√ÄY √ÇM D∆Ø∆†NG</h1></div>
	<div <h2>***B√¨nh - Giai - Th√†nh*** d·ª±a theo cu·ªën Ng·ªçc H·∫°p Th√¥ng Th∆∞, L·ªãch V·∫°n Ni√™n</h2></div>
    <div class="control-area">
        <button class="nav-btn" onclick="adjustDay(-1)">‚ùÆ</button>
        <div class="date-input-wrapper">
            <input type="date" id="solarDate" onchange="main()">
            <span style="font-size: 10px; color: #551;">Ch·ªçn ng√†y c·∫ßn xem (NG√ÄY/ TH√ÅNG/ NƒÇM)</span>
        </div>
        <button class="nav-btn" onclick="adjustDay(1)">‚ùØ</button>
        <button class="action-btn" onclick="setToday()">H√¥m nay</button>
    </div>

    <div id="resultArea" style="display:none;">
        <div class="info-grid">
            <div class="calendar-card">
                <div class="cal-header" id="outDayOfWeek">TH·ª®...</div>
                <div class="cal-solar-day" id="outSolarDay">00</div>
                <div class="cal-solar-month-year" id="outSolarMonthYear">00 / 00 / 0000</div>
                
                <div class="lunar-display">
                    <div class="lunar-label">L·ªãch √Çm</div>
                    <div class="lunar-value" id="outLunar">00/00</div>
                </div>

                <div id="outDaySpirit" class="day-status"></div>
            </div>

            <div class="battu-card">
           
                
                <div class="battu-grid">
                    <div class="battu-item">
                        <div class="battu-label">NƒÉm</div>
                        <div class="battu-value" id="outYearCC">...</div>
                        <div class="nap-am" id="outYearNapAm">...</div>
                    </div>
                    <div class="battu-item">
                        <div class="battu-label">Th√°ng</div>
                        <div class="battu-value" id="outMonthCC">...</div>
                    </div>
                    <div class="battu-item">
                        <div class="battu-label">Ng√†y</div>
                        <div class="battu-value" id="outDayCC">...</div>
                        <div class="nap-am" id="outDayNapAm">...</div>
                    </div>
                </div>

                <div class="tag-row">
                    <div class="info-tag tag-truc" id="outTruc">Tr·ª±c: ...</div>
                    <div class="info-tag tag-tiet" id="outTietKhi">Ti·∫øt: ...</div>
                    <div class="info-tag tag-season" id="outSeason">M√πa: ...</div>
                </div>

                <div class="zodiac-container">
                    <div style="font-size:12px; font-weight:bold; color:var(--gold);">Gi·ªù Ho√†ng ƒê·∫°o:</div>
                    <div class="zodiac-grid" id="outZodiac"></div>
                </div>
            </div>
        </div>
        <div class="sao-list">
            <div class="sao-box">
                <h4 style="color:var(--star-on); font-size:13px; margin:0 0 8px 0; border-bottom:1px solid #f0f0f0;">‚ú® C√ÅT TINH</h4>
                <div id="listGood"></div>
            </div>
            <div class="sao-box">
                <h4 style="color:var(--primary); font-size:13px; margin:0 0 8px 0; border-bottom:1px solid #f0f0f0;">üåë HUNG TINH</h4>
                <div id="listBad"></div>
            </div>
        </div>

        <div class="rating-section">
            <div class="general-rating">
                <div style="font-weight: bold; font-size: 15px; color: var(--primary);">ƒê√ÅNH GI√Å CHUNG</div>
                <div id="starGeneral" class="stars" style="font-size: 20px; margin: 5px 0;"></div>
                <div id="txtGeneral" style="font-weight: 800; font-size: 16px; text-transform: uppercase;"></div>
                <div id="adviceGeneral" style="font-size: 15px; color: #666; margin-top: 5px;"></div>
                <div id="evaluation-box" style="padding: 15px; border-radius: 8px; margin-bottom: 15px; font-weight: bold; text-align: center;">
    </div>
            </div>
            <div class="rating-grid" id="jobRatings"></div>
        </div>

                
        <div id="outDir" style="margin-top:10px; padding:5px; background:#fff; border-radius:15px; border:1px solid #eee; font-size:14px; text-align:center; line-height:1.6; box-shadow: 0 5px 15px rgba(0,0,0,0.05);"></div>
    </div>
</div>

<script>
/* ============================================================
   B·ªò L√ïI THI√äN VƒÇN G·ªêC (GI·ªÆ NGUY√äN)
   ============================================================ */
const CAN = ["Gi√°p","·∫§t","B√≠nh","ƒêinh","M·∫≠u","K·ª∑","Canh","T√¢n","Nh√¢m","Qu√Ω"];
const CHI = ["T√Ω","S·ª≠u","D·∫ßn","M√£o","Th√¨n","T·ªµ","Ng·ªç","M√πi","Th√¢n","D·∫≠u","Tu·∫•t","H·ª£i"];
const TRUC_12 = ["Ki·∫øn", "Tr·ª´", "M√£n", "B√¨nh", "ƒê·ªãnh", "Ch·∫•p", "Ph√°", "Nguy", "Th√†nh", "Thu", "Khai", "B·∫ø"];
const TIET_KHI_ARR = ["Xu√¢n Ph√¢n","Thanh Minh","C·ªëc V≈©","L·∫≠p H·∫°","Ti·ªÉu M√£n","Mang Ch·ªßng","H·∫° Ch√≠","Ti·ªÉu Th·ª≠","ƒê·∫°i Th·ª≠","L·∫≠p Thu","X·ª≠ Th·ª≠","B·∫°ch L·ªô","Thu Ph√¢n","H√†n L·ªô","S∆∞∆°ng Gi√°ng","L·∫≠p ƒê√¥ng","Ti·ªÉu Tuy·∫øt","ƒê·∫°i Tuy·∫øt","ƒê√¥ng Ch√≠","Ti·ªÉu H√†n","ƒê·∫°i H√†n","L·∫≠p Xu√¢n","V≈© Th·ªßy","Kinh Tr·∫≠p"];

const NAP_AM_MAP = {
    "Gi√°p T√Ω":"H·∫£i Trung Kim","·∫§t S·ª≠u":"H·∫£i Trung Kim","B√≠nh D·∫ßn":"L∆∞ Trung H·ªèa","ƒêinh M√£o":"L∆∞ Trung H·ªèa","M·∫≠u Th√¨n":"ƒê·∫°i L√¢m M·ªôc","K·ª∑ T·ªµ":"ƒê·∫°i L√¢m M·ªôc","Canh Ng·ªç":"L·ªô B√†ng Th·ªï","T√¢n M√πi":"L·ªô B√†ng Th·ªï","Nh√¢m Th√¢n":"Ki·∫øm Phong Kim","Qu√Ω D·∫≠u":"Ki·∫øm Phong Kim","Gi√°p Tu·∫•t":"S∆°n ƒê·∫ßu H·ªèa","·∫§t H·ª£i":"S∆°n ƒê·∫ßu H·ªèa","B√≠nh T√Ω":"Gi·∫£n H·∫° Th·ªßy","ƒêinh S·ª≠u":"Gi·∫£n H·∫° Th·ªßy","M·∫≠u D·∫ßn":"Th√†nh ƒê·∫ßu Th·ªï","K·ª∑ M√£o":"Th√†nh ƒê·∫ßu Th·ªï","Canh Th√¨n":"B·∫°ch L·∫°p Kim","T√¢n T·ªµ":"B·∫°ch L·∫°p Kim","Nh√¢m Ng·ªç":"D∆∞∆°ng Li·ªÖu M·ªôc","Qu√Ω M√πi":"D∆∞∆°ng Li·ªÖu M·ªôc","Gi√°p Th√¢n":"Tuy·ªÅn Trung Th·ªßy","·∫§t D·∫≠u":"Tuy·ªÅn Trung Th·ªßy","B√≠nh Tu·∫•t":"·ªêc Th∆∞·ª£ng Th·ªï","ƒêinh H·ª£i":"·ªêc Th∆∞·ª£ng Th·ªï","M·∫≠u T√Ω":"T√≠ch L·ªãch H·ªèa","K·ª∑ S·ª≠u":"T√≠ch L·ªãch H·ªèa","Canh D·∫ßn":"T√πng B√°ch M·ªôc","T√¢n M√£o":"T√πng B√°ch M·ªôc","Nh√¢m Th√¨n":"Tr∆∞·ªùng L∆∞u Th·ªßy","Qu√Ω T·ªµ":"Tr∆∞·ªùng L∆∞u Th·ªßy","Gi√°p Ng·ªç":"Sa Trung Kim","·∫§t M√πi":"Sa Trung Kim","B√≠nh Th√¢n":"S∆°n H·∫° H·ªèa","ƒêinh D·∫≠u":"S∆°n H·∫° H·ªèa","M·∫≠u Tu·∫•t":"B√¨nh ƒê·ªãa M·ªôc","K·ª∑ H·ª£i":"B√¨nh ƒê·ªãa M·ªôc","Canh T√Ω":"B√≠ch Th∆∞·ª£ng Th·ªï","T√¢n S·ª≠u":"B√≠ch Th∆∞·ª£ng Th·ªï","Nh√¢m D·∫ßn":"Kim B·∫°ch Kim","Qu√Ω M√£o":"Kim B·∫°ch Kim","Gi√°p Th√¨n":"Ph√∫c ƒêƒÉng H·ªèa","·∫§t T·ªµ":"Ph√∫c ƒêƒÉng H·ªèa","B√≠nh Ng·ªç":"Thi√™n H√† Th·ªßy","ƒêinh M√πi":"Thi√™n H√† Th·ªßy","M·∫≠u Th√¢n":"ƒê·∫°i Tr·∫°ch Th·ªï","K·ª∑ D·∫≠u":"ƒê·∫°i Tr·∫°ch Th·ªï","Canh Tu·∫•t":"Thoa Xuy·∫øn Kim","T√¢n H·ª£i":"Thoa Xuy·∫øn Kim","Nh√¢m T√Ω":"Tang ƒê·ªë M·ªôc","Qu√Ω S·ª≠u":"Tang ƒê·ªë M·ªôc","Gi√°p D·∫ßn":"ƒê·∫°i Kh√™ Th·ªßy","·∫§t M√£o":"ƒê·∫°i Kh√™ Th·ªßy","B√≠nh Th√¨n":"Sa Trung Th·ªï","ƒêinh T·ªµ":"Sa Trung Th·ªï","M·∫≠u Ng·ªç":"Thi√™n Th∆∞·ª£ng H·ªèa","K·ª∑ M√πi":"Thi√™n Th∆∞·ª£ng H·ªèa","Canh Th√¢n":"Th·∫°ch L·ª±u M·ªôc","T√¢n D·∫≠u":"Th·∫°ch L·ª±u M·ªôc","Nh√¢m Tu·∫•t":"ƒê·∫°i H·∫£i Th·ªßy","Qu√Ω H·ª£i":"ƒê·∫°i H·∫£i Th·ªßy"
};

const STAR_DB = {
    good: [
        {n: "Thi√™n X√°**: T·ªët t·∫ø t·ª±, gi·∫£i oan", c: "T·ªët t·∫ø t·ª±, gi·∫£i oan", l: ["M·∫≠trungu","M·∫≠u","M·∫≠u","Gi√°p"," ","Gi√°p","M·∫≠u","M·∫≠u","M·∫≠u","Gi√°p"," ","Gi√°p"]},
        {n: "ƒê·∫°i An: B√¨nh an-t√†i l·ªôc", c: "T·ªët. M·ªçi vi·ªác b√¨nh an, ·ªïn ƒë·ªãnh, c·∫ßu t√†i l·ªôc thu·∫≠n l·ª£i.", isLucDieu: true, val: 1},
        {n: "Thi√™n X√°**: T·ªët t·∫ø t·ª±, gi·∫£i oan", c: "T·ªët t·∫ø t·ª±, gi·∫£i oan", l: ["D·∫ßn","D·∫ßn","D·∫ßn","Ngtrung·ªç"," ","Ng·ªç","Th√¢n","Th√¢n","Th√¢n","T√Ω"," ","T√Ω"]},
        {n: "Nguy·ªát Kh√¥ng: T·ªët l√†m nh√†, l√†m gi∆∞·ªùng", c: "T·ªët l√†m nh√†, l√†m gi∆∞·ªùng", l: ["Nh√¢m","Canh","B√≠nh","Gi√°p","Nh√¢m","Canh","B√≠nh","Gi√°p","Nh√¢m","Canh","B√≠nh","Gi√°p"]},
        {n: "Thi√™n ƒë·ª©c*: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["ƒêinh","Th√¢n","Nh√¢m","T√¢n","H·ª£i","Gi√°p","Qu√Ω","D·∫ßn","B√≠nh","·∫§t","T·ªµ","Canh"]},
        {n: "Thi√™n ƒë·ª©c h·ª£p**: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["Nh√¢m","T√Ω","ƒêinh","B√≠nh","D·∫ßn","K·ª∑","M·∫≠u","H·ª£i","T√¢n","Canh","Th√¢n","·∫§t"]},
        {n: "Nguy·ªát ƒê·ª©c*: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["B√≠nh","Gi√°p","Nh√¢m","Canh","B√≠nh","Gi√°p","Nh√¢m","Canh","B√≠nh","Gi√°p","Nh√¢m","Canh"]},
        {n: "Nguy·ªát ƒë·ª©c h·ª£p**: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["T√¢n","K·ª∑","ƒêinh","·∫§t","T√¢n","K·ª∑","ƒêinh","·∫§t","T√¢n","K·ª∑","ƒêinh","·∫§t"]},
        {n: "Thi√™n h·ª∑*: T·ªët c∆∞·ªõi h·ªèi", c: "T·ªët c∆∞·ªõi h·ªèi", l: ["Tu·∫•t","H·ª£i","T√Ω","S·ª≠u","D·∫ßn","M√£o","Th√¨n","T·ªµ","Ng·ªç","M√πi","Th√¢n","D·∫≠u"]},
        {n: "Thi√™n ph√∫: T·ªët x√¢y d·ª±ng, khai tr∆∞∆°ng", c: "T·ªët x√¢y d·ª±ng, khai tr∆∞∆°ng", l: ["Th√¨n","T·ªµ","Ng·ªç","M√πi","Th√¢n","D·∫≠u","Tu·∫•t","H·ª£i","T√Ω","S·ª≠u","D·∫ßn","M√£o"]},
        {n: "Thi√™n Qu√Ω**: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["Gi√°p","Gi√°p","Gi√°p","B√≠nh","B√≠nh","B√≠nh","Canh","Canh","Canh","Nh√¢m","Nh√¢m","Nh√¢m"]},
        {n: "Thi√™n Qu√Ω**: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["·∫§t","·∫§t","·∫§t","ƒêinh","ƒêinh","ƒêinh","T√¢n","T√¢n","T√¢n","Qu√Ω","Qu√Ω","Qu√Ω"]},
        {n: "Sinh kh√≠: T·ªët l√†m nh√†, ƒë·ªông th·ªï", c: "T·ªët l√†m nh√†, ƒë·ªông th·ªï", l: ["T√Ω","S·ª≠u","D·∫ßn","M√£o","Th√¨n","T·ªµ","Ng·ªç","M√πi","Th√¢n","D·∫≠u","Tu·∫•t","H·ª£i"]},
        {n: "Thi√™n Ph√∫c*: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["K·ª∑","M·∫≠u","K·ª∑","T√¢n","T√¢n","T√¢n","·∫§t","Gi√°p","·∫§t","ƒêinh","B√≠nh","ƒêinh"]},
        {n: "Thi√™n Ph√∫c*: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: [" "," "," ","Qu√Ω","Nh√¢m"," "," "," "," "," "," "," "]},
        {n: "Thi√™n th√†nh**: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["M√πi","D·∫≠u","H·ª£i","S·ª≠u","M√£o","T·ªµ","M√πi","D·∫≠u","H·ª£i","S·ª≠u","M√£o","T·ªµ"]},
        {n: "Thi√™n Quan:T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["Tu·∫•t","T√Ω","D·∫ßn","Th√¨n","Ng·ªç","Th√¢n","Tu·∫•t","T√Ω","D·∫ßn","Th√¨n","Ng·ªç","Th√¢n"]},
        {n: "Thi√™n M√£: T·ªët xu·∫•t h√†nh, c·∫ßu t√†i", c: "T·ªët xu·∫•t h√†nh, c·∫ßu t√†i", l: ["Ng·ªç","Th√¢n","Tu·∫•t","T√Ω","D·∫ßn","Th√¨n","Ng·ªç","Th√¢n","Tu·∫•t","T√Ω","D·∫ßn","Th√¨n"]},
        {n: "Thi√™n t√†i: T·ªët c·∫ßu t√†i, khai tr∆∞∆°ng", c: "T·ªët c·∫ßu t√†i, khai tr∆∞∆°ng", l: ["Th√¨n","Ng·ªç","Th√¢n","Tu·∫•t","T√Ω","D·∫ßn","Th√¨n","Ng·ªç","Th√¢n","Tu·∫•t","T√Ω","D·∫ßn"]},
        {n: "ƒê·ªãa t√†i: T·ªët c·∫ßu t√†i, khai tr∆∞∆°ng", c: "T·ªët c·∫ßu t√†i, khai tr∆∞∆°ng", l: ["T·ªµ","M√πi","D·∫≠u","H·ª£i","S·ª≠u","M√£o","T·ªµ","M√πi","D·∫≠u","H·ª£i","S·ª≠u","M√£o"]},
        {n: "Nguy·ªát T√†i: T·ªët c·∫ßu t√†i, giao d·ªãch", c: "T·ªët c·∫ßu t√†i, giao d·ªãch", l: ["Ng·ªç","T·ªµ","T·ªµ","M√πi","D·∫≠u","H·ª£i","Ng·ªç","T·ªµ","T·ªµ","M√πi","D·∫≠u","H·ª£i"]},
        {n: "Nguy·ªát √Çn**: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["B√≠nh","ƒêinh","Canh","K·ª∑","M·∫≠u","T√¢n","Nh√¢m","Qu√Ω","Canh","·∫§t","Gi√°p","T√¢n"]},
        {n: "Minh tinh: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["Th√¢n","Tu·∫•t","T√Ω","D·∫ßn","Th√¨n","Ng·ªç","Th√¢n","Tu·∫•t","T√Ω","D·∫ßn","Th√¨n","Ng·ªç"]},
        {n: "Th√°nh t√¢m: T·ªët c·∫ßu ph√∫c, t·∫ø t·ª±", c: "T·ªët c·∫ßu ph√∫c, t·∫ø t·ª±", l: ["H·ª£i","T·ªµ","T√Ω","Ng·ªç","S·ª≠u","M√πi","D·∫ßn","Th√¢n","M√£o","D·∫≠u","Th√¨n","Tu·∫•t"]},
        {n: "Ng≈© ph√∫*: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["H·ª£i","D·∫ßn","T·ªµ","Th√¢n","H·ª£i","D·∫ßn","T·ªµ","Th√¢n","H·ª£i","D·∫ßn","T·ªµ","Th√¢n"]},
        {n: "L·ªôc kh·ªë: T·ªët c·∫ßu t√†i, khai tr∆∞∆°ng", c: "T·ªët c·∫ßu t√†i, khai tr∆∞∆°ng", l: ["Th√¨n","T·ªµ","Ng·ªç","M√πi","Th√¢n","D·∫≠u","Tu·∫•t","H·ª£i","T√Ω","S·ª≠u","D·∫ßn","M√£o"]},
        {n: "Ph√∫c Sinh*: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["D·∫≠u","M√£o","Tu·∫•t","Th√¨n","H·ª£i","T·ªµ","T√Ω","Ng·ªç","S·ª≠u","M√πi","D·∫ßn","Th√¢n"]},
        {n: "C√°t Kh√°nh*: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["D·∫≠u","D·∫ßn","H·ª£i","Th√¨n","S·ª≠u","Ng·ªç","M√£o","Th√¢n","T·ªµ","Tu·∫•t","M√πi","T√Ω"]},
        {n: "√Çm ƒê·ª©c: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["D·∫≠u","M√πi","T·ªµ","M√£o","S·ª≠u","H·ª£i","D·∫≠u","M√πi","T·ªµ","M√£o","S·ª≠u","H·ª£i"]},
        {n: "U Vi tinh: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["H·ª£i","Th√¨n","S·ª≠u","Ng·ªç","M√£o","Th√¢n","T·ªµ","Tu·∫•t","M√πi","T√Ω","D·∫≠u","D·∫ßn"]},
        {n: "M√£n ƒë·ª©c tinh: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["D·∫ßn","M√πi","Th√¨n","D·∫≠u","Ng·ªç","H·ª£i","Th√¢n","S·ª≠u","Tu·∫•t","M√£o","T√Ω","T·ªµ"]},
        {n: "K√≠nh T√¢m: T·ªët ƒë·ªëi v·ªõi tang l·ªÖ", c: "T·ªët ƒë·ªëi v·ªõi tang l·ªÖ", l: ["M√πi","S·ª≠u","Th√¢n","D·∫ßn","D·∫≠u","M√£o","Tu·∫•t","Th√¨n","H·ª£i","T·ªµ","T√Ω","Ng·ªç"]},
        {n: "Tu·∫ø h·ª£p: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["S·ª≠u","T√Ω","H·ª£i","Tu·∫•t","D·∫≠u","Th√¢n","M√πi","Ng·ªç","T·ªµ","Th√¨n","M√£o","D·∫ßn"]},
        {n: "Nguy·ªát gi·∫£i: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["Th√¢n","Th√¢n","D·∫≠u","D·∫≠u","Tu·∫•t","Tu·∫•t","H·ª£i","H·ª£i","Ng·ªç","Ng·ªç","M√πi","M√πi"]},
        {n: "Quan nh·∫≠t: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["", "M√£o", "", "", "Ng·ªç", "", "", "D·∫≠u", "", "", "T√Ω", ""]},
        {n: "Ho·∫°t ƒëi·ªáu: T·ªët (tr·ª´ Th·ª• T·ª≠)", c: "T·ªët (tr·ª´ Th·ª• T·ª≠)", l: ["T·ªµ","Tu·∫•t","M√πi","T√Ω","D·∫≠u","D·∫ßn","H·ª£i","Th√¨n","S·ª≠u","Ng·ªç","M√£o","Th√¢n"]},
        {n: "Gi·∫£i th·∫ßn: T·ªët t·∫ø t·ª±, gi·∫£i oan", c: "T·ªët t·∫ø t·ª±, gi·∫£i oan", l: ["Th√¢n","Th√¢n","Tu·∫•t","Tu·∫•t","T√Ω","T√Ω","D·∫ßn","D·∫ßn","Th√¨n","Th√¨n","Ng·ªç","Ng·ªç"]},
        {n: "Ph·ªï h·ªô: T·ªët l√†m ph√∫c, gi√° th√∫", c: "T·ªët l√†m ph√∫c, gi√° th√∫", l: ["Th√¢n","D·∫ßn","D·∫≠u","M√£o","Tu·∫•t","Th√¨n","H·ª£i","T·ªµ","T√Ω","Ng·ªç","S·ª≠u","M√πi"]},
        {n: "√çch H·∫≠u: T·ªët m·ªçi vi·ªác, gi√° th√∫", c: "T·ªët m·ªçi vi·ªác, gi√° th√∫", l: ["T√Ω","Ng·ªç","S·ª≠u","M√πi","D·∫ßn","Th√¢n","M√£o","D·∫≠u","Th√¨n","Tu·∫•t","T·ªµ","H·ª£i"]},
        {n: "T·ª•c Th·∫ø: T·ªët m·ªçi vi·ªác, gi√° th√∫", c: "T·ªët m·ªçi vi·ªác, nh·∫•t l√† gi√° th√∫", l: ["S·ª≠u","M√πi","D·∫ßn","Th√¢n","M√£o","D·∫≠u","Th√¨n","Tu·∫•t","T·ªµ","H·ª£i","Ng·ªç","T√Ω"]},
        {n: "Y·∫øu y√™n**: T·ªët m·ªçi vi·ªác, gi√° th√∫", c: "T·ªët m·ªçi vi·ªác, nh·∫•t l√† gi√° th√∫", l: ["D·∫ßn","Th√¢n","M√£o","D·∫≠u","Th√¨n","Tu·∫•t","T·ªµ","H·ª£i","Ng·ªç","T√Ω","M√πi","S·ª≠u"]},
        {n: "D·ªãch M√£: T·ªët xu·∫•t h√†nh", c: "T·ªët xu·∫•t h√†nh", l: ["Th√¢n","T·ªµ","D·∫ßn","H·ª£i","Th√¢n","T·ªµ","D·∫ßn","H·ª£i","Th√¢n","T·ªµ","D·∫ßn","H·ª£i"]},
        {n: "Tam H·ª£p**: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["Ng·ªç","M√πi","Th√¢n","D·∫≠u","Tu·∫•t","H·ª£i","T√Ω","S·ª≠u","D·∫ßn","M√£o","Th√¨n","T·ªµ"]},
        {n: "Tam H·ª£p**: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["Tu·∫•t","H·ª£i","T√Ω","S·ª≠u","D·∫ßn","M√£o","Th√¨n","T·ªµ","Ng·ªç","M√πi","Th√¢n","D·∫≠u"]},
        {n: "L·ª•c H·ª£p*: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["H·ª£i","Tu·∫•t","D·∫≠u","Th√¢n","M√πi","Ng·ªç","T·ªµ","Th√¨n","M√£o","D·∫ßn","S·ª≠u","T√Ω"]},
        {n: "M·∫´u Th∆∞∆°ng*: T·ªët c·∫ßu t√†i, khai tr∆∞∆°ng", c: "T·ªët c·∫ßu t√†i, khai tr∆∞∆°ng", l: ["H·ª£i","H·ª£i","H·ª£i","D·∫ßn","D·∫ßn","D·∫ßn","Th√¨n","Th√¨n","Th√¨n","Th√¢n","Th√¢n","Th√¢n"]},
        {n: "M·∫´u Th∆∞∆°ng*: T·ªët c·∫ßu t√†i, khai tr∆∞∆°ng", c: "T·ªët c·∫ßu t√†i, khai tr∆∞∆°ng", l: ["T√Ω","T√Ω","T√Ω","M√£o","M√£o","M√£o","S·ª≠u","S·ª≠u","S·ª≠u","D·∫≠u","D·∫≠u","D·∫≠u"]},
        {n: "Ph√∫c h·∫≠u: T·ªët c·∫ßu t√†i, khai tr∆∞∆°ng", c: "T·ªët c·∫ßu t√†i, khai tr∆∞∆°ng", l: ["D·∫ßn","D·∫ßn","D·∫ßn","T·ªµ","T·ªµ","T·ªµ","Th√¢n","Th√¢n","Th√¢n","H·ª£i","H·ª£i","H·ª£i"]},
        {n: "ƒê·∫°i H·ªìng Sa: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["T√Ω","T√Ω","T√Ω","Th√¨n","Th√¨n","Th√¨n","Ng·ªç","Ng·ªç","Ng·ªç","Th√¢n","Th√¢n","Th√¢n"]},
        {n: "ƒê·∫°i H·ªìng Sa: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["S·ª≠u","S·ª≠u","S·ª≠u","T·ªµ","T·ªµ","T·ªµ","M√πi","M√πi","M√πi","Tu·∫•t","Tu·∫•t","Tu·∫•t"]},
        {n: "D√¢n nh·∫≠t th·ªùi ƒë·ª©c: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["Ng·ªç","Ng·ªç","Ng·ªç","D·∫≠u","D·∫≠u","D·∫≠u","T√Ω","T√Ω","T√Ω","M√£o","M√£o","M√£o"]},
        {n: "Ho√†ng √Çn**: T·ªët m·ªçi vi·ªác", c: "T·ªët m·ªçi vi·ªác", l: ["Tu·∫•t","S·ª≠u","D·∫ßn","T·ªµ","D·∫≠u","M√£o","T√Ω","Ng·ªç","H·ª£i","Th√¨n","Th√¢n","M√πi"]},
        {n: "Thanh Long*: T·ªët m·ªçi vi·ªác", c: "Ho√†ng ƒê·∫°o - T·ªët m·ªçi vi·ªác", l: ["T√Ω","D·∫ßn","Th√¨n","Ng·ªç","Th√¢n","Tu·∫•t","T√Ω","D·∫ßn","Th√¨n","Ng·ªç","Th√¢n","Tu·∫•t"]},
        {n: "Minh ƒë∆∞·ªùng*: T·ªët m·ªçi vi·ªác", c: "Ho√†ng ƒê·∫°o - T·ªët m·ªçi vi·ªác", l: ["S·ª≠u","M√£o","T·ªµ","M√πi","D·∫≠u","H·ª£i","S·ª≠u","M√£o","T·ªµ","M√πi","D·∫≠u","H·ª£i"]},
        {n: "Kim ƒë∆∞·ªùng*: T·ªët m·ªçi vi·ªác", c: "Ho√†ng ƒê·∫°o - T·ªët m·ªçi vi·ªác", l: ["T·ªµ","M√πi","D·∫≠u","H·ª£i","S·ª≠u","M√£o","T·ªµ","M√πi","D·∫≠u","H·ª£i","S·ª≠u","M√£o"]},
        {n: "Ng·ªçc ƒë∆∞·ªùng*: T·ªët m·ªçi vi·ªác", c: "Ho√†ng ƒê·∫°o - T·ªët m·ªçi vi·ªác", l: ["M√πi","D·∫≠u","H·ª£i","S·ª≠u","M√£o","T·ªµ","M√πi","D·∫≠u","H·ª£i","S·ª≠u","M√£o","T·ªµ"]},
{
    n: "T·ªëc H·ª∑: Tin vui, c·∫ßu t√†i l·ªôc",
    c: "T·ªët. Tin vui ƒë·∫øn nhanh, c·∫ßu t√†i l·ªôc, g·∫∑p g·ª° ƒë·ªëi t√°c thu·∫≠n l·ª£i (bu·ªïi s√°ng t·ªët h∆°n).",
    isLucDieu: true,
    val: 3 // V·ªã tr√≠ s·ªë 3
},
{
    n: "Ti·ªÉu C√°t: May m·∫Øn nh·ªè, vi·ªác tr√¥i ch·∫£y",
    c: "T·ªët. G·∫∑p may m·∫Øn nh·ªè, m·ªçi vi·ªác tr√¥i ch·∫£y, c√≥ qu√Ω nh√¢n ph√π tr·ª£.",
    isLucDieu: true,
    val: 5 // V·ªã tr√≠ s·ªë 5
},
    ],
   bad: [
    {
        n: "Tr√πng tang**: R·∫•t x·∫•u v·ªõi an t√°ng, mai t√°ng, h√¥n th√∫, gi√° th√∫, kh·ªüi c√¥ng",
        c: "C·ª±c x·∫•u. V·ªõi an t√°ng, mai t√°ng, h√¥n th√∫, gi√° th√∫, kh·ªüi c√¥ng", l: ["Gi√°p","·∫§t","K·ª∑","B√≠nh","ƒêinh","K·ª∑","Canh","T√¢n","K·ª∑","Nh√¢m","Qu√Ω","K·ª∑"]},
         
   
// c√°c sao kh√°c....
        {n: "Nguy·ªát k·ªµ*: Kh√≥ khƒÉn, x·∫•u m·ªçi vi·ªác", dFixed: [5, 14, 23]},
        {n: "Tam n∆∞∆°ng*: X·∫•u m·ªçi vi·ªác, kh√≥ th√†nh", dFixed: [3, 7, 13, 18, 22, 27]},
        {n: "Thi√™n C∆∞∆°ng**: X·∫•u m·ªçi vi·ªác", c: "X·∫•u m·ªçi vi·ªác", l: ["T·ªµ","T√Ω","M√πi","D·∫ßn","D·∫≠u","Th√¨n","H·ª£i","Ng·ªç","S·ª≠u","Th√¢n","M√£o","Tu·∫•t"]},
{
    n: "D∆∞∆°ng C√¥ng K·ªµ**: X·∫•u m·ªçi vi·ªác, kh·ªüi c√¥ng, khai tr∆∞∆°ng",
    c: "C·ª±c x·∫•u. Ng√†y hung nh·∫•t trong th√°ng, tr√°nh kh·ªüi s·ª± m·ªçi vi·ªác ƒë·∫°i s·ª±.", l: [[13], [11], [9], [7], [5], [3], [8, 29], [27], [25], [23], [21], [19]]
},
{
    n: "ƒê·∫°i Kh√¥ng Vong: X·∫•u m·ªçi vi·ªác, hao t√°n t√†i",
    c: "X·∫•u. G·∫∑p nhi·ªÅu tr·ªü ng·∫°i, m∆∞u s·ª± kh√≥ th√†nh, d·ªÖ b·ªã hao t√°n t√†i l·ªôc.",
    l: ["Th√¢n", "D·∫≠u", "Tu·∫•t", "H·ª£i", "T√Ω", "S·ª≠u", "D·∫ßn", "M√£o", "Th√¨n", "T·ªµ", "Ng·ªç", "M√πi"]
},
    {
    n: "Kh√¥ng Vong (S√°t)*", 
    c: "X·∫•u m·ªçi vi·ªác, m∆∞u s·ª± kh√≥ th√†nh.",
    isLucDieu: true,
    val: 6 // V·ªã tr√≠ cu·ªëi c√πng trong v√≤ng L·ª•c Di·ªáu
}, 
{
    n: "X√≠ch Kh·∫©u*: D·ªÖ tranh c√£i, th·ªã phi",
    c: "X·∫•u. D·ªÖ x·∫£y ra tranh c√£i, mi·ªáng ti·∫øng, th·ªã phi, ƒë·ªÅ ph√≤ng m√¢u thu·∫´n.",
    isLucDieu: true, // ƒê√°nh d·∫•u ƒë·ªÉ d√πng h√†m t√≠nh ri√™ng
    val: 4 // V·ªã tr√≠ s·ªë 4 trong v√≤ng L·ª•c Di·ªáu
},
{
    n: "L∆∞u Ni√™n: X·∫•u m·ªçi vi·ªác, tr√¨ ho√£n",
    c: "X·∫•u. M·ªçi vi·ªác d·ªÖ b·ªã tr√¨ ho√£n, d√¢y d∆∞a, kh√≥ d·ª©t ƒëi·ªÉm, n√™n ki√™n nh·∫´n.",
    isLucDieu: true,
    val: 2 // V·ªã tr√≠ s·ªë 2
},
        {n: "Thi√™n L·∫°i: X·∫•u m·ªçi vi·ªác", c: "X·∫•u m·ªçi vi·ªác", l: ["D·∫≠u","Ng·ªç","M√£o","T√Ω","D·∫≠u","Ng·ªç","M√£o","T√Ω","D·∫≠u","Ng·ªç","M√£o","T√Ω"]},
        {n: "Thi√™n Ng·ª•c: X·∫•u m·ªçi vi·ªác (L·ª£p nh√†)", c: "X·∫•u m·ªçi vi·ªác (L·ª£p nh√†)", l: ["T√Ω","M√£o","Ng·ªç","D·∫≠u","T√Ω","M√£o","Ng·ªç","D·∫≠u","T√Ω","M√£o","Ng·ªç","D·∫≠u"]},
        {n: "Ti·ªÉu H·ªìng Sa: X·∫•u m·ªçi vi·ªác", c: "X·∫•u m·ªçi vi·ªác", l: ["T·ªµ","D·∫≠u","S·ª≠u","T·ªµ","D·∫≠u","S·ª≠u","T·ªµ","D·∫≠u","S·ª≠u","T·ªµ","D·∫≠u","S·ª≠u"]},
        {n: "ƒê·∫°i Hao**: X·∫•u m·ªçi vi·ªác, hao ti·ªÅn", c: "X·∫•u m·ªçi vi·ªác", l: ["Ng·ªç","M√πi","Th√¢n","D·∫≠u","Tu·∫•t","H·ª£i","T√Ω","S·ª≠u","D·∫ßn","M√£o","Th√¨n","T·ªµ"]},
        {n: "Ti·ªÉu Hao: X·∫•u kinh doanh, c·∫ßu t√†i", c: "X·∫•u kinh doanh, c·∫ßu t√†i", l: ["T·ªµ","Ng·ªç","M√πi","Th√¢n","D·∫≠u","Tu·∫•t","H·ª£i","T√Ω","S·ª≠u","D·∫ßn","M√£o","Th√¨n"]},
        {n: "Nguy·ªát ph√°*: X·∫•u x√¢y d·ª±ng", c: "X·∫•u x√¢y d·ª±ng", l: ["Th√¢n","D·∫≠u","Tu·∫•t","H·ª£i","T√Ω","S·ª≠u","D·∫ßn","M√£o","Th√¨n","T·ªµ","Ng·ªç","M√πi"]},
        {n: "Nguy·ªát ph√°*: X·∫•u x√¢y d·ª±ng", c: "X·∫•u x√¢y d·ª±ng", l: ["","Tu·∫•t","","","S·ª≠u","","","Th√¨n","","","M√πi",""]},
        {n: "Ki·∫øp s√°t**: K·ªµ xu·∫•t h√†nh, gi√° th√∫", c: "K·ªµ xu·∫•t h√†nh, gi√° th√∫", l: ["H·ª£i","Th√¢n","T·ªµ","D·∫ßn","H·ª£i","Th√¢n","T·ªµ","D·∫ßn","H·ª£i","Th√¢n","T·ªµ","D·∫ßn"]},
        {n: "ƒê·ªãa ph√°: K·ªµ x√¢y d·ª±ng, ƒë·ªông th·ªï", c: "K·ªµ x√¢y d·ª±ng", l: ["H·ª£i","T√Ω","S·ª≠u","D·∫ßn","M√£o","Th√¨n","T·ªµ","Ng·ªç","M√πi","Th√¢n","D·∫≠u","Tu·∫•t"]},
        {n: "Th·ªï ph·ªß: K·ªµ x√¢y d·ª±ng, ƒë·ªông th·ªï", c: "K·ªµ x√¢y d·ª±ng, ƒë·ªông th·ªï", l: ["D·∫ßn","M√£o","Th√¨n","T·ªµ","Ng·ªç","M√πi","Th√¢n","D·∫≠u","Tu·∫•t","H·ª£i","T√Ω","S·ª≠u"]},
        {n: "Th·ªï √¥n: K·ªµ x√¢y d·ª±ng, ƒë√†o ao", c: "K·ªµ x√¢y d·ª±ng, ƒë√†o ao", l: ["Th√¨n","T·ªµ","Ng·ªç","M√πi","Th√¢n","D·∫≠u","Tu·∫•t","H·ª£i","T√Ω","S·ª≠u","D·∫ßn","M√£o"]},
        {n: "Thi√™n √¥n: K·ªµ x√¢y d·ª±ng", c: "K·ªµ x√¢y d·ª±ng", l: ["M√πi","Tu·∫•t","Th√¨n","D·∫ßn","Ng·ªç","T√Ω","D·∫≠u","Th√¢n","T·ªµ","H·ª£i","T√Ω","S·ª≠u"]},
        {n: "Th·ª• t·ª≠**: X·∫•u m·ªçi vi·ªác", c: "X·∫•u m·ªçi vi·ªác", l: ["Tu·∫•t","Th√¨n","H·ª£i","T·ªµ","T√Ω","Ng·ªç","S·ª≠u","M√πi","D·∫ßn","Th√¢n","M√£o","D·∫≠u"]},
        {n: "Hoang vu*: X·∫•u m·ªçi vi·ªác", c: "X·∫•u m·ªçi vi·ªác", l: ["T·ªµ","T·ªµ","T·ªµ","Th√¢n","Th√¢n","Th√¢n","H·ª£i","H·ª£i","H·ª£i","D·∫ßn","D·∫ßn","D·∫ßn"]},
        {n: "Hoang vu*: X·∫•u m·ªçi vi·ªác", c: "X·∫•u m·ªçi vi·ªác", l: ["D·∫≠u","D·∫≠u","D·∫≠u","T√Ω","T√Ω","T√Ω","M√£o","M√£o","M√£o","Ng·ªç","Ng·ªç","Ng·ªç"]},
        {n: "Hoang vu*: X·∫•u m·ªçi vi·ªác", c: "X·∫•u m·ªçi vi·ªác", l: ["S·ª≠u","S·ª≠u","S·ª≠u","Th√¨n","Th√¨n","Th√¨n","M√πi","M√πi","M√πi","Tu·∫•t","Tu·∫•t","Tu·∫•t"]},
        {n: "Thi√™n t·∫∑c: X·∫•u kh·ªüi t·∫°o, ƒë·ªông th·ªï", c: "X·∫•u kh·ªüi t·∫°o, ƒë·ªông th·ªï", l: ["Th√¨n","D·∫≠u","D·∫ßn","M√πi","T√Ω","T·ªµ","Tu·∫•t","M√£o","Th√¢n","S·ª≠u","Ng·ªç","H·ª£i"]},
        {n: "ƒê·ªãa T·∫∑c: X·∫•u kh·ªüi t·∫°o, an t√°ng", c: "X·∫•u kh·ªüi t·∫°o, an t√°ng", l: ["S·ª≠u","T√Ω","H·ª£i","Tu·∫•t","D·∫≠u","Th√¢n","M√πi","Ng·ªç","T·ªµ","Th√¨n","M√£o","D·∫ßn"]},
        {n: "Ho·∫£ tai: X·∫•u l√†m nh√†, l·ª£p nh√†", c: "X·∫•u l√†m nh√†, l·ª£p nh√†", l: ["S·ª≠u","M√πi","D·∫ßn","Th√¢n","M√£o","D·∫≠u","Th√¨n","Tu·∫•t","T·ªµ","H·ª£i","Ng·ªç","T√Ω"]},
        {n: "Nguy·ªát H·ªèa: X·∫•u l·ª£p nh√†, l√†m b·∫øp", c: "X·∫•u l·ª£p nh√†, l√†m b·∫øp", l: ["T·ªµ","Th√¨n","M√£o","D·∫ßn","S·ª≠u","T√Ω","H·ª£i","Tu·∫•t","D·∫≠u","Th√¢n","M√πi","Ng·ªç"]},
        {n: "Nguy·ªát Y·∫øm: X·∫•u xu·∫•t h√†nh, gi√° th√∫", c: "X·∫•u xu·∫•t h√†nh, gi√° th√∫", l: ["Tu·∫•t","D·∫≠u","Th√¢n","M√πi","Ng·ªç","T·ªµ","Th√¨n","M√£o","D·∫ßn","S·ª≠u","T√Ω","H·ª£i"]},
        {n: "Nguy·ªát H∆∞: X·∫•u gi√° th√∫, khai tr∆∞∆°ng", c: "X·∫•u gi√° th√∫, m·ªü h√†ng", l: ["S·ª≠u","Tu·∫•t","M√πi","Th√¨n","S·ª≠u","Tu·∫•t","M√πi","Th√¨n","S·ª≠u","Tu·∫•t","M√πi","Th√¨n"]},
        {n: "Ho√†ng Sa: X·∫•u xu·∫•t h√†nh", c: "X·∫•u xu·∫•t h√†nh", l: ["Ng·ªç","D·∫ßn","T√Ω","Ng·ªç","D·∫ßn","T√Ω","Ng·ªç","D·∫ßn","T√Ω","Ng·ªç","D·∫ßn","T√Ω"]},
        {n: "L·ª•c B·∫•t th√†nh: X·∫•u x√¢y d·ª±ng", c: "X·∫•u x√¢y d·ª±ng", l: ["D·∫ßn","Ng·ªç","Tu·∫•t","T·ªµ","D·∫≠u","S·ª≠u","Th√¢n","T√Ω","Th√¨n","H·ª£i","M√£o","M√πi"]},
        {n: "Nh√¢n C√°ch: X·∫•u gi√° th√∫, kh·ªüi t·∫°o", c: "X·∫•u gi√° th√∫, kh·ªüi t·∫°o", l: ["D·∫≠u","M√πi","T·ªµ","M√£o","S·ª≠u","H·ª£i","D·∫≠u","M√πi","T·ªµ","M√£o","S·ª≠u","H·ª£i"]},
        {n: "Th·∫ßn c√°ch: K·ªµ t·∫ø t·ª±", c: "K·ªµ t·∫ø t·ª±", l: ["T·ªµ","M√£o","S·ª≠u","H·ª£i","D·∫≠u","M√πi","T·ªµ","M√£o","S·ª≠u","H·ª£i","D·∫≠u","M√πi"]},
        {n: "Phi Ma s√°t: K·ªµ gi√° th√∫, nh·∫≠p tr·∫°ch", c: "K·ªµ gi√° th√∫, nh·∫≠p tr·∫°ch", l: ["T√Ω","D·∫≠u","Ng·ªç","M√£o","T√Ω","D·∫≠u","Ng·ªç","M√£o","T√Ω","D·∫≠u","Ng·ªç","M√£o"]},
        {n: "Ng≈© Qu·ªπ: K·ªµ xu·∫•t h√†nh", c: "K·ªµ xu·∫•t h√†nh", l: ["Ng·ªç","D·∫ßn","Th√¨n","D·∫≠u","M√£o","Th√¢n","S·ª≠u","T·ªµ","T√Ω","H·ª£i","M√πi","Tu·∫•t"]},
        {n: "BƒÉng ti√™u: X·∫•u m·ªçi vi·ªác", c: "X·∫•u m·ªçi vi·ªác", l: ["T·ªµ","T√Ω","S·ª≠u","D·∫ßn","M√£o","Tu·∫•t","H·ª£i","Ng·ªç","M√πi","Th√¢n","D·∫≠u","Th√¨n"]},
        {n: "H√† kh√¥i: K·ªµ kh·ªüi c√¥ng", c: "K·ªµ kh·ªüi c√¥ng", l: ["H·ª£i","Ng·ªç","S·ª≠u","Th√¢n","M√£o","Tu·∫•t","T·ªµ","T√Ω","M√πi","D·∫ßn","D·∫≠u","Th√¨n"]},
        {n: "V√£ng vong: K·ªµ xu·∫•t h√†nh, gi√° th√∫", c: "K·ªµ xu·∫•t h√†nh, gi√° th√∫", l: ["D·∫ßn","T·ªµ","Th√¢n","H·ª£i","M√£o","Ng·ªç","D·∫≠u","T√Ω","Th√¨n","M√πi","Tu·∫•t","S·ª≠u"]},
        {n: "C·ª≠u kh√¥ng: K·ªµ xu·∫•t h√†nh, c·∫ßu t√†i", c: "K·ªµ xu·∫•t h√†nh, c·∫ßu t√†i", l: ["Th√¨n","S·ª≠u","Tu·∫•t","M√πi","M√£o","T√Ω","D·∫≠u","Ng·ªç","D·∫ßn","H·ª£i","Th√¢n","T·ªµ"]},
        {n: "Tr√πng ph·ª•c: K·ªµ gi√° th√∫, an t√°ng", c: "K·ªµ gi√° th√∫, an t√°ng", l: ["Canh","T√¢n","K·ª∑","Nh√¢m","Qu√Ω","M·∫≠u","Gi√°p","·∫§t","K·ª∑","Nh√¢m","Qu√Ω","K·ª∑"]},
        {n: "Chu t∆∞·ªõc: K·ªµ nh·∫≠p tr·∫°ch, khai tr∆∞∆°ng", c: "K·ªµ nh·∫≠p tr·∫°ch, khai tr∆∞∆°ng", l: ["M√£o","T·ªµ","M√πi","D·∫≠u","H·ª£i","S·ª≠u","M√£o","T·ªµ","M√πi","D·∫≠u","H·ª£i","S·ª≠u"]},
        {n: "B·∫°ch h·ªï: K·ªµ mai t√°ng", c: "K·ªµ mai t√°ng", l: ["Ng·ªç","Th√¢n","Tu·∫•t","T√Ω","D·∫ßn","Th√¨n","Ng·ªç","Th√¢n","Tu·∫•t","T√Ω","D·∫ßn","Th√¨n"]},
        {n: "Huy·ªÅn V≈©: K·ªµ mai t√°ng", c: "K·ªµ mai t√°ng", l: ["D·∫≠u","H·ª£i","T·ªµ","M√£o","S·ª≠u","M√πi","D·∫≠u","H·ª£i","T·ªµ","M√£o","S·ª≠u","M√πi"]},
        {n: "C√¢u Tr·∫≠n: K·ªµ mai t√°ng", c: "K·ªµ mai t√°ng", l: ["H·ª£i","T·ªµ","M√£o","S·ª≠u","M√πi","D·∫≠u","H·ª£i","T·ªµ","M√£o","S·ª≠u","M√πi","D·∫≠u"]},
        {n: "L√¥i c√¥ng: X·∫•u x√¢y d·ª±ng", c: "X·∫•u x√¢y d·ª±ng", l: ["D·∫ßn","H·ª£i","T·ªµ","Th√¢n","D·∫ßn","H·ª£i","T·ªµ","Th√¢n","D·∫ßn","H·ª£i","T·ªµ","Th√¢n"]},
        {n: "C√¥ th·∫ßn: X·∫•u v·ªõi gi√° th√∫", c: "X·∫•u v·ªõi gi√° th√∫", l: ["Tu·∫•t","H·ª£i","T√Ω","S·ª≠u","D·∫ßn","M√£o","Th√¨n","T·ªµ","Ng·ªç","M√πi","Th√¢n","D·∫≠u"]},
        {n: "Qu·∫£ t√∫: X·∫•u v·ªõi gi√° th√∫", c: "X·∫•u v·ªõi gi√° th√∫", l: ["Th√¨n","T·ªµ","Ng·ªç","M√πi","Th√¢n","D·∫≠u","Tu·∫•t","H·ª£i","T√Ω","S·ª≠u","D·∫ßn","M√£o"]},
        {n: "S√°t ch·ªß**: X·∫•u m·ªçi vi·ªác, ch·ªß", c: "X·∫•u m·ªçi vi·ªác", l: ["T·ªµ","T√Ω","M√πi","M√£o","Th√¢n","Tu·∫•t","S·ª≠u","H·ª£i","Ng·ªç","D·∫≠u","D·∫ßn","Th√¨n"]},
        {n: "Nguy·ªát H√¨nh: X·∫•u m·ªçi vi·ªác", c: "X·∫•u m·ªçi vi·ªác", l: ["T·ªµ","T√Ω","Th√¨n","Th√¢n","Ng·ªç","S·ª≠u","D·∫ßn","D·∫≠u","M√πi","H·ª£i","M√£o","Tu·∫•t"]},
        {n: "T·ªôi ch·ªâ: X·∫•u v·ªõi t·∫ø t·ª±, t·ªë t·ª•ng", c: "X·∫•u v·ªõi t·∫ø t·ª±, ki·ªán c√°o", l: ["Ng·ªç","T√Ω","M√πi","S·ª≠u","Th√¢n","D·∫ßn","D·∫≠u","M√£o","Tu·∫•t","Th√¨n","H·ª£i","T·ªµ"]},
        {n: "Nguy·ªát Ki·∫øn: K·ªµ ƒë·ªông th·ªï", c: "K·ªµ ƒë·ªông th·ªï", l: ["M√£o", "", "", "Ng·ªç", "", "", "D·∫≠u", "", "", "T√Ω", "", ""]},
        {n: "Thi√™n ƒë·ªãa ch√≠nh chuy·ªÉn: K·ªµ ƒë·ªông th·ªï", c: "K·ªµ ƒë·ªông th·ªï", l: ["Qu√Ω M√£o", "", "", "B√≠nh Ng·ªç", "", "", "ƒêinh D·∫≠u", "", "", "Canh T√Ω", "", ""]},
        {n: "Thi√™n ƒë·ªãa chuy·ªÉn s√°t: K·ªµ ƒë·ªông th·ªï", c: "K·ªµ ƒë·ªông th·ªï", l: ["·∫§t M√£o", "", "", "B√≠nh Ng·ªç", "", "", "T√¢n D·∫≠u", "", "", "Nh√¢m T√Ω", "", ""]},
        {n: "L·ªó ban s√°t: K·ªµ kh·ªüi t·∫°o", c: "K·ªµ kh·ªüi t·∫°o", l: ["T√Ω", "", "", "M√£o", "", "", "Ng·ªç", "", "", "D·∫≠u", "", ""]},
        {n: "Ph·ªß ƒë·∫ßu s√°t: K·ªµ kh·ªüi t·∫°o", c: "K·ªµ kh·ªüi t·∫°o", l: ["Th√¨n", "", "", "M√πi", "", "", "D·∫≠u", "", "", "T√Ω", "", ""]},
        {n: "Tam tang: K·ªµ kh·ªüi t·∫°o, gi√° th√∫", c: "K·ªµ kh·ªüi t·∫°o, gi√° th√∫", l: ["Th√¨n", "", "", "M√πi", "", "", "Tu·∫•t", "", "", "S·ª≠u", "", ""]},
        {n: "Ng≈© h∆∞: K·ªµ kh·ªüi t·∫°o, gi√° th√∫", c: "K·ªµ kh·ªüi t·∫°o, gi√° th√∫", l: ["T·ªµ", "D·∫≠u", "S·ª≠u", "Th√¢n", "T√Ω", "Th√¨n", "H·ª£i", "M√£o", "M√πi", "D·∫ßn", "Ng·ªç", "Tu·∫•t"]},
        {n: "T·ª© th·ªùi ƒë·∫°i m·ªô: K·ªµ an t√°ng", c: "K·ªµ an t√°ng", l: ["·∫§t M√πi", "", "", "B√≠nh Tu·∫•t", "", "", "T√¢n S·ª≠u", "", "", "Nh√¢m Th√¨n", "", ""]},
        {n: "Th·ªï c·∫©m: K·ªµ x√¢y d·ª±ng, an t√°ng", c: "K·ªµ x√¢y d·ª±ng, an t√°ng", l: ["H·ª£i", "", "", "D·∫ßn", "", "", "T·ªµ", "", "", "Th√¢n", "", ""]},
        {n: "Ly s√†ng: K·ªµ gi√° th√∫", c: "K·ªµ gi√° th√∫", l: ["D·∫≠u", "", "", "D·∫ßn", "", "", "Tu·∫•t", "", "", "T·ªµ", "", ""]},
        {n: "Ly s√†ng: K·ªµ gi√° th√∫", c: "K·ªµ gi√° th√∫", l: ["", "", "", "Ng·ªç", "", "", "", "", "", "", "", ""]},
        {n: "T·ª© th·ªùi c√¥ qu·∫£: K·ªµ gi√° th√∫", c: "K·ªµ gi√° th√∫", l: ["S·ª≠u", "", "", "Th√¨n", "", "", "M√πi", "", "", "Tu·∫•t", "", ""]},
        {n: "Kh√¥ng ph√≤ng: K·ªµ gi√° th√∫", c: "K·ªµ gi√° th√∫", l: ["Th√¨n", "T·ªµ", "T√Ω", "Tu·∫•t", "H·ª£i", "M√πi", "D·∫ßn", "M√£o", "Ng·ªç", "Th√¢n", "D·∫≠u", "S·ª≠u"]},
        {n: "√Çm th√°c: K·ªµ xu·∫•t h√†nh, gi√° th√∫", c: "K·ªµ xu·∫•t h√†nh, gi√° th√∫", l: ["Canh Tu·∫•t", "T√¢n D·∫≠u", "Canh Th√¢n", "ƒêinh M√πi", "B√≠nh Ng·ªç", "ƒêinh T·ªµ", "Gi√°p Th√¨n", "·∫§t M√£o", "Gi√°p D·∫ßn", "Qu√Ω S·ª≠u", "Nh√¢m T√Ω", ""]},
        {n: "D∆∞∆°ng th√°c: K·ªµ xu·∫•t h√†nh, gi√° th√∫", c: "K·ªµ xu·∫•t h√†nh, gi√° th√∫", l: ["Gi√°p D·∫ßn", "·∫§t M√£o", "Gi√°p Th√¨n", "ƒêinh T·ªµ", "B√≠nh Ng·ªç", "ƒêinh M√πi", "Canh Th√¢n", "T√¢n D·∫≠u", "Canh Tu·∫•t", "Qu√Ω H·ª£i", "Nh√¢m T√Ω", ""]},
        {n: "Qu·ª∑ kh√≥c: K·ªµ xu·∫•t h√†nh, gi√° th√∫", c: "X·∫•u v·ªõi t·∫ø t·ª±, mai t√°ng", l: ["Tu·∫•t", "Tu·∫•t", "Tu·∫•t", "Tu·∫•t", "Tu·∫•t", "Tu·∫•t", "Tu·∫•t", "Tu·∫•t", "Tu·∫•t", "Tu·∫•t", "Tu·∫•t", "Tu·∫•t"]},
    ]
};

const JOB_LIST = [{n: "L√†m nh√†, s·ª≠a nh√†", goodT: ["Ki·∫øn","ƒê·ªãnh","Th√†nh"], badT: ["Ph√°","B·∫ø"], critS: ["S√°t ch·ªß","Th·ª• t·ª≠"]},{n: "Khai tr∆∞∆°ng", goodT: ["M√£n","Khai","Th√†nh"], badT: ["Ch·∫•p","B·∫ø"], critS: ["ƒê·∫°i Hao"]},{n: "H√¥n th√∫, gi√° th√∫", goodT: ["Th√†nh","Nguy"], badT: ["Ki·∫øn","Ph√°"], critS: ["Th·ª• t·ª≠"]},{n: "Nh·∫≠p tr·∫°ch", goodT: ["Khai","ƒê·ªãnh"], badT: ["B·∫ø"], critS: []},{n: "T·∫ø t·ª±, t·∫ø l·ªÖ", goodT: ["ƒê·ªãnh","Ch·∫•p"], badT: ["Ph√°"], critS: []},{n: "ƒê·ªông th·ªï", goodT: ["Ki·∫øn","ƒê·ªãnh"], badT: ["Ph√°","B·∫ø"], critS: ["S√°t ch·ªß"]},{n: "Xu·∫•t h√†nh", goodT: ["Khai","Thu"], badT: ["B·∫ø"], critS: []},{n: "Giao d·ªãch, k√Ω k·∫øt", goodT: ["M√£n","Th√†nh"], badT: ["Thu"], critS: ["ƒê·∫°i Hao"]},{n: "Khai nghi·ªáp m·ªõi", goodT: ["Th√†nh","Khai"], badT: ["B·∫ø"], critS: []},{n: "C·∫ßu t√†i, l·ªôc", goodT: ["M√£n","Th√†nh"], badT: ["B·∫ø"], critS: ["ƒê·∫°i Hao"]},{n: "An t√°ng", goodT: ["Ch·∫•p","Ph√°"], badT: ["Ki·∫øn"], critS: []},{n: "T·ªë t·ª•ng", goodT: ["Tr·ª´","Ph√°"], badT: ["ƒê·ªãnh"], critS: []},{n: "L√†m vi·ªác thi·ªán", goodT: ["ƒê·ªãnh","Th√†nh","Khai"], badT: [], critS: []},{n: "C·∫ßu t·ª±", goodT: ["ƒê·ªãnh","Th√†nh"], badT: ["Ph√°"], critS: []}];

const PI = Math.PI;
function floor(x) { return Math.floor(x); }
function jdn(dd, mm, yy) {
    let a = floor((14 - mm) / 12); let y = yy + 4800 - a; let m = mm + 12 * a - 3;
    return dd + floor((153 * m + 2) / 5) + 365 * y + floor(y / 4) - floor(y / 100) + floor(y / 400) - 32045;
}
function getNewMoonDay(k, timeZone) {
    let T = k / 1236.85; let Jd1 = 2415020.75933 + 29.53058868 * k + 0.0001178 * T * T - 0.000000155 * T * T * T;
    let dr = PI/180;
    let C1 = (0.1734 - 0.000393 * T) * Math.sin((359.2242 + 29.10535608 * k) * dr);
    let C2 = -0.4068 * Math.sin((306.0253 + 385.81691806 * k) * dr);
    return floor(Jd1 + C1 + C2 + 0.5 + timeZone / 24);
}
function getSunLongitude(dayNumber, timeZone) {
    let T = (dayNumber - 2451545.0 - timeZone / 24) / 36525;
    let L0 = 280.46645 + 36000.76983 * T; let M = (357.52910 + 35999.05030 * T) * PI / 180;
    return (L0 + 1.914600 * Math.sin(M)) * PI / 180;
}
function getLunarMonth11(yyyy, timeZone) {
    let off = jdn(31, 12, yyyy) - 2415021; let k = floor(off / 29.530588853);
    for (let i = -2; i <= 1; i++) {
        let nm = getNewMoonDay(k + i, timeZone); let nextNm = getNewMoonDay(k + i + 1, timeZone);
        let s1 = (getSunLongitude(nm, timeZone) * 180 / PI % 360 + 360) % 360;
        let s2 = (getSunLongitude(nextNm, timeZone) * 180 / PI % 360 + 360) % 360;
        if (s2 < s1) s2 += 360;
        if ((s1 <= 270 && s2 > 270) || (s1 <= 630 && s2 > 630)) return nm;
    }
    return getNewMoonDay(k, timeZone);
}
function getLunarDate(dd, mm, yyyy) {
    let jd = jdn(dd, mm, yyyy); let k = floor((jd - 2415021) / 29.530588853);
    let monthStart = getNewMoonDay(k+1, 7.0); if(monthStart > jd) monthStart = getNewMoonDay(k, 7.0);
    let off = (jd >= getLunarMonth11(yyyy, 7.0)) ? getLunarMonth11(yyyy, 7.0) : getLunarMonth11(yyyy-1, 7.0);
    let lMonthIdx = floor((monthStart - off) / 29);
    let finalM = [11, 12, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10][lMonthIdx % 12];
    return { d: jd - monthStart + 1, m: finalM, y: (finalM >= 11 && lMonthIdx < 5)?yyyy-1:yyyy, jd: jd };
}

/* ============================================================
   LOGIC H·ª∂ TH·∫¶N & T√ÄI TH·∫¶N (·∫§T: ƒêB, NAM)
   ============================================================ */
function getXuatHanh(dCan) {
    const hy = {"Gi√°p":"ƒê√¥ng B·∫Øc","·∫§t":"ƒê√¥ng B·∫Øc","B√≠nh":"T√¢y Nam","ƒêinh":"Ch√≠nh Nam","M·∫≠u":"ƒê√¥ng Nam","K·ª∑":"ƒê√¥ng B·∫Øc","Canh":"T√¢y B·∫Øc","T√¢n":"T√¢y Nam","Nh√¢m":"Ch√≠nh Nam","Qu√Ω":"ƒê√¥ng Nam"};
    const tai = {"Gi√°p":"ƒê√¥ng Nam","·∫§t":"Ch√≠nh Nam","B√≠nh":"Ch√≠nh ƒê√¥ng","ƒêinh":"Ch√≠nh ƒê√¥ng","M·∫≠u":"Ch√≠nh B·∫Øc","K·ª∑":"Ch√≠nh Nam","Canh":"T√¢y Nam","T√¢n":"T√¢y Nam","Nh√¢m":"T√¢y B·∫Øc","Qu√Ω":"T√¢y B·∫Øc"};
    return { hy: hy[dCan], tai: tai[dCan] };
}

function calculateStarsScore(job, dayInfo) {
    let score = 3; 
    if(dayInfo.isHD) score += 1; else score -= 1;
    if(job.goodT.includes(dayInfo.truc)) score += 1;
    if(job.badT.includes(dayInfo.truc)) score -= 2;
    dayInfo.badS.forEach(s => { if(job.critS.includes(s)) score -= 3; else score -= 0.5; });
    dayInfo.goodS.forEach(s => { score += 0.5; });
    return Math.min(6, Math.max(0, Math.round(score)));
}

function renderStars(count) {
    let html = "";
    for(let i=1; i<=6; i++) html += (i <= count) ? "‚òÖ" : "<span class='star-off'>‚òÖ</span>";
    return html;
}

/* ============================================================
   H√ÄM ƒêI·ªÄU KHI·ªÇN CH√çNH
   ============================================================ */
function adjustDay(v) {
    let d = new Date(document.getElementById("solarDate").value || new Date());
    d.setDate(d.getDate() + v);
    document.getElementById("solarDate").valueAsDate = d; main();
}
function setToday() { document.getElementById("solarDate").valueAsDate = new Date(); main(); }

function main() {
    let val = document.getElementById("solarDate").value; if(!val) return;
    let d = new Date(val);
    let lunar = getLunarDate(d.getDate(), d.getMonth()+1, d.getFullYear());
    let jd = lunar.jd;
    let dCan = CAN[(jd+9)%10], dChi = CHI[(jd+1)%12];
    
    // Nguy√™n l√Ω Tr·ª±c d·ª±a tr√™n Th√°ng Ti·∫øt Kh√≠
    let sunLong = getSunLongitude(jd + 0.5, 7.0);
    let sunDeg = (sunLong * 180 / PI % 360 + 360) % 360;
    let solarMonthIdx = floor(((sunDeg + 45) % 360) / 30); 
    let trucIdx = (CHI.indexOf(dChi) - ((solarMonthIdx + 2) % 12) + 12) % 12;
    let trucName = TRUC_12[trucIdx];

    // M√πa & Ti·∫øt kh√≠
    let season = ["M√πa Xu√¢n","M√πa H·∫°","M√πa Thu","M√πa ƒê√¥ng"][floor((lunar.m-1)/3)];
    let yearCC = CAN[(lunar.y+6)%10] + " " + CHI[(lunar.y+8)%12];
    let dayCC = dCan + " " + dChi;

    // Ho√†ng ƒê·∫°o / H·∫Øc ƒê·∫°o
    const startChiM = { 1: 0, 2: 2, 3: 4, 4: 6, 5: 8, 6: 10, 7: 0, 8: 2, 9: 4, 10: 6, 11: 8, 12: 10 };
    let thanIdx = (CHI.indexOf(dChi) - startChiM[lunar.m] + 12) % 12;
    let isHD = [0,1,4,5,7,10].includes(thanIdx);

    // 6. L·ªåC SAO (C·∫≠p nh·∫≠t cho c·∫£ sao Can Chi v√† sao Ng√†y c·ªë ƒë·ªãnh)
    let gS = [], bS = [];
    
    // H√†m ki·ªÉm tra ƒëi·ªÅu ki·ªán hi·ªán sao
 function checkStar(s) {
    // 1. X·ª≠ l√Ω L·ª•c Di·ªáu (ƒê·∫°i An, L∆∞u Ni√™n, T·ªëc H·ª∑, X√≠ch Kh·∫©u, Ti·ªÉu C√°t, Kh√¥ng Vong)
    if (s.isLucDieu) {
        // C√¥ng th·ª©c m·ªõi: (Th√°ng + Ng√†y - 1) chia 6 l·∫•y d∆∞
        let lucDieuVal = (lunar.m + lunar.d - 1) % 6;
        if (lucDieuVal === 0) lucDieuVal = 6; 
        return lucDieuVal === s.val;
    }
    
    // ... c√°c ph·∫ßn logic ph√≠a d∆∞·ªõi (dFixed, s.l) gi·ªØ nguy√™n ...


    // 2. X·ª≠ l√Ω sao c√≥ thu·ªôc t√≠nh dFixed (Tam n∆∞∆°ng, Nguy·ªát k·ªµ ki·ªÉu c≈©)
    if (s.dFixed) {
        return s.dFixed.includes(lunar.d);
    }

    // 3. X·ª≠ l√Ω sao c√≥ thu·ªôc t√≠nh l (M·∫£ng theo 12 th√°ng)
    if (s.l && s.l[lunar.m - 1]) {
        const condition = s.l[lunar.m - 1];

        // Tr∆∞·ªùng h·ª£p Tr√πng Tang, D∆∞∆°ng C√¥ng K·ªµ (M·∫£ng c√°c ng√†y: [7, 19])
        if (Array.isArray(condition)) {
            return condition.includes(lunar.d);
        }

        // Tr∆∞·ªùng h·ª£p sao Can Chi (Chu·ªói: "T√Ω" ho·∫∑c "Gi√°p|·∫§t")
        return condition.includes(dCan) || condition.includes(dChi);
    // ƒêo·∫°n n√†y ƒë·∫∑t ngay sau khi b·∫°n ƒë√£ c√≥ danh s√°ch gS v√† bS
    const evalBox = document.getElementById("evaluation-box");
    
    if (gS.length > 0 || bS.length > 0) {
        evalBox.style.display = "block"; // Hi·ªán khung l√™n khi c√≥ sao
        
        // G·ªçi h√†m ƒë√°nh gi√° m√† t√¥i ƒë√£ h∆∞·ªõng d·∫´n ·ªü b∆∞·ªõc tr∆∞·ªõc
        getEvaluation(gS, bS); 
    } else {
        evalBox.style.display = "none";
    }}

    return false;
}

    STAR_DB.good.forEach(s => { if(checkStar(s)) gS.push(s.n); });
    STAR_DB.bad.forEach(s => { if(checkStar(s)) bS.push(s.n); });

    // HI·ªÇN TH·ªä UI
    document.getElementById("resultArea").style.display = "block";
    const weekdays = ["CH·ª¶ NH·∫¨T", "TH·ª® HAI", "TH·ª® BA", "TH·ª® T∆Ø", "TH·ª® NƒÇM", "TH·ª® S√ÅU", "TH·ª® B·∫¢Y"];
    document.getElementById("outDayOfWeek").innerText = weekdays[d.getDay()];
    document.getElementById("outSolarDay").innerText = d.getDate();
    
    // C·ªê ƒê·ªäNH ƒê·ªäNH D·∫†NG VI·ªÜT NAM: DD / MM / YYYY
    document.getElementById("outSolarMonthYear").innerText = `${d.getDate().toString().padStart(2, '0')} / ${(d.getMonth()+1).toString().padStart(2, '0')} / ${d.getFullYear()}`;
    document.getElementById("outLunar").innerText = `${lunar.d}/${lunar.m}`;
    
    let spirit = document.getElementById("outDaySpirit");
    spirit.innerText = "Ng√†y: " + ["Thanh Long","Minh ƒê∆∞·ªùng","Thi√™n H√¨nh","Chu T∆∞·ªõc","Kim Qu·ªπ","B·∫£o Quang","B·∫°ch H·ªï","Ng·ªçc ƒê∆∞·ªùng","Thi√™n Lao","Nguy√™n V≈©","T∆∞ M·ªánh","C√¢u Tr·∫≠n"][thanIdx] + (isHD?" Ho√†ng ƒê·∫°o":" H·∫Øc ƒê·∫°o");
    spirit.className = "day-status " + (isHD?"hoang-dao-text":"hac-dao-text");

    document.getElementById("outYearCC").innerText = yearCC;
    document.getElementById("outYearNapAm").innerText = NAP_AM_MAP[yearCC] || "";
    document.getElementById("outMonthCC").innerText = CAN[(lunar.y*12+lunar.m+3)%10] + " " + CHI[(lunar.m+1)%12];
    document.getElementById("outDayCC").innerText = dayCC;
    document.getElementById("outDayNapAm").innerText = NAP_AM_MAP[dayCC] || "";

    document.getElementById("outTruc").innerText = "Tr·ª±c: " + trucName;
    document.getElementById("outTietKhi").innerText = "Ti·∫øt: " + TIET_KHI_ARR[floor(sunDeg / 15)];
    document.getElementById("outSeason").innerText = "M√πa: " + season;

    const GIO_KHUNG = {"T√Ω":"23-01","S·ª≠u":"01-03","D·∫ßn":"03-05","M√£o":"05-07","Th√¨n":"07-09","T·ªµ":"09-11","Ng·ªç":"11-13","M√πi":"13-15","Th√¢n":"15-17","D·∫≠u":"17-19","Tu·∫•t":"19-21","H·ª£i":"21-23"};
    const GIO_RULES = {"T√Ω":["T√Ω","S·ª≠u","M√£o","Ng·ªç","Th√¢n","D·∫≠u"],"S·ª≠u":["D·∫ßn","M√£o","T·ªµ","Th√¢n","Tu·∫•t","H·ª£i"],"D·∫ßn":["T√Ω","S·ª≠u","Th√¨n","T·ªµ","M√πi","Tu·∫•t"],"M√£o":["T√Ω","D·∫ßn","M√£o","Ng·ªç","M√πi","D·∫≠u"],"Th√¨n":["D·∫ßn","Th√¨n","T·ªµ","Th√¢n","D·∫≠u","H·ª£i"],"T·ªµ":["S·ª≠u","Th√¨n","Ng·ªç","M√πi","Tu·∫•t","H·ª£i"],"Ng·ªç":["T√Ω","S·ª≠u","M√£o","Ng·ªç","Th√¢n","D·∫≠u"],"M√πi":["D·∫ßn","M√£o","T·ªµ","Th√¢n","Tu·∫•t","H·ª£i"],"Th√¢n":["T√Ω","S·ª≠u","Th√¨n","T·ªµ","M√πi","Tu·∫•t"],"D·∫≠u":["T√Ω","D·∫ßn","M√£o","Ng·ªç","M√πi","D·∫≠u"],"Tu·∫•t":["D·∫ßn","Th√¨n","T·ªµ","Th√¢n","D·∫≠u","H·ª£i"],"H·ª£i":["S·ª≠u","Th√¨n","Ng·ªç","M√πi","Tu·∫•t","H·ª£i"]};
    document.getElementById("outZodiac").innerHTML = GIO_RULES[dChi].map(h => `<div class="zodiac-item">${h}(${GIO_KHUNG[h]})</div>`).join("");

    // Rating
    let totalScore = 0;
    let ratHtml = "";
    JOB_LIST.forEach(job => {
        let jobScore = calculateStarsScore(job, { isHD, truc: trucName, goodS: gS, badS: bS });
        totalScore += jobScore;
        ratHtml += `<div class="rating-item"><span class="rating-label">${job.n}</span><span class="stars">${renderStars(jobScore)}</span></div>`;
    });
    document.getElementById("jobRatings").innerHTML = ratHtml;

    let avg = Math.round(totalScore / JOB_LIST.length);
    document.getElementById("starGeneral").innerHTML = renderStars(avg);
    const comments = ["R·∫•t x·∫•u", "X·∫•u", "X·∫•u v·ª´a", "Trung b√¨nh", "T·ªët v·ª´a", "T·ªët", "R·∫•t t·ªët"];
    document.getElementById("txtGeneral").innerText = comments[avg];
    document.getElementById("adviceGeneral").innerText = avg >= 4 ? "C√≥ th·ªÉ ti·∫øn h√†nh vi·ªác quan tr·ªçng." : "N√™n c·∫©n tr·ªçng vi·ªác ƒë·∫°i s·ª±.";

    document.getElementById("listGood").innerHTML = gS.map(s => `<div><b>${s}</b></div>`).join("");
    document.getElementById("listBad").innerHTML = bS.map(s => `<div><b>${s}</b></div>`).join("");
    
    // H∆∞·ªõng H·ª∑ Th·∫ßn & T√†i Th·∫ßn chu·∫©n
    let xh = getXuatHanh(dCan);
    document.getElementById("outDir").innerHTML = `‚ù§Ô∏è H·ª∑ Th·∫ßn: <b style="color:#c62828">${xh.hy}</b> | üí∞ T√†i Th·∫ßn: <b style="color:#2e7d32">${xh.tai}</b>`;
}

setToday();  // C√ÅC H√ÄM CHUA NGAY RAT TOT RAT XAU
function getEvaluation(gS, bS) {
    let evalText = "";
    let boxColor = "";
    let textColor = "";

    // Ki·ªÉm tra xem c√≥ sao "ƒê·∫°i hung" (c√≥ d·∫•u **) kh√¥ng
    const hasGreatBadStar = bS.some(s => s.includes("**"));
    // Ki·ªÉm tra xem c√≥ sao "ƒê·∫°i c√°t" (v√≠ d·ª• Thi√™n X√° ho·∫∑c sao c√≥ d·∫•u **) kh√¥ng
    const hasGreatGoodStar = gS.some(s => s.includes("**"));

    if (hasGreatBadStar) {
        evalText = "‚ö†Ô∏è NG√ÄY R·∫§T X·∫§U: C√≥ sao ƒë·∫°i hung, trƒÉm vi·ªác ƒë·ªÅu k·ªµ, n√™n th·∫≠n tr·ªçng.";
        boxColor = "#fdecea"; // M√†u n·ªÅn ƒë·ªè nh·∫°t
        textColor = "#d32f2f"; // M√†u ch·ªØ ƒë·ªè
    } else if (hasGreatGoodStar) {
        evalText = "üåü NG√ÄY R·∫§T T·ªêT: C√≥ sao ƒë·∫°i c√°t, thu·∫≠n l·ª£i cho kh·ªüi s·ª±, khai tr∆∞∆°ng, c∆∞·ªõi h·ªèi.";
        boxColor = "#e8f5e9"; // M√†u n·ªÅn xanh nh·∫°t
        textColor = "#2e7d32"; // M√†u ch·ªØ xanh
    } else if (bS.length > gS.length + 2) {
        evalText = "‚ùå NG√ÄY X·∫§U: Nhi·ªÅu sao x·∫•u h·ªôi t·ª•, n√™n h·∫°n ch·∫ø l√†m c√°c vi·ªác ƒë·∫°i s·ª±.";
        boxColor = "#fff3e0"; // M√†u n·ªÅn cam nh·∫°t
        textColor = "#e65100";
    } else if (gS.length > bS.length) {
        evalText = "‚úÖ NG√ÄY T·ªêT: C√°c sao t·ªët chi·∫øm ∆∞u th·∫ø, c√≥ th·ªÉ ti·∫øn h√†nh c√°c vi·ªác th∆∞·ªùng nh·∫≠t.";
        boxColor = "#e3f2fd"; // M√†u n·ªÅn xanh d∆∞∆°ng nh·∫°t
        textColor = "#1565c0";
    } else {
        evalText = "‚öñÔ∏è NG√ÄY B√åNH TH∆Ø·ªúNG: Sao t·ªët v√† x·∫•u c√¢n b·∫±ng, n√™n l√†m vi·ªác thi·ªán, tr√°nh tranh ch·∫•p.";
        boxColor = "#f5f5f5"; // M√†u n·ªÅn x√°m nh·∫°t
        textColor = "#616161";
    }

    // Hi·ªÉn th·ªã ra m√†n h√¨nh
    const box = document.getElementById("evaluation-box");
    box.innerHTML = evalText;
    box.style.backgroundColor = boxColor;
    box.style.color = textColor;
}

// G·ªçi h√†m n√†y sau khi ƒë√£ l·ªçc xong gS v√† bS
getEvaluation(gS, bS);
// Ch·ªëng chu·ªôt ph·∫£i
    document.addEventListener('contextmenu', event => event.preventDefault());

    // Ch·ªëng c√°c ph√≠m t·∫Øt F12, Ctrl+Shift+I, Ctrl+U (Xem code)
    document.onkeydown = function(e) {
        if (e.keyCode == 123 || (e.ctrlKey && e.shiftKey && e.keyCode == 73) || (e.ctrlKey && e.keyCode == 85)) {
            return false;
        }
    };
</script>
</body>
</html>


